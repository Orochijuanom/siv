-- MySQL Script generated by MySQL Workbench
-- Thu Dec 14 01:02:18 2017
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';



-- -----------------------------------------------------
-- Table `siv`.`categorias`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `siv`.`categorias` (
  `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `descripcion` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `created_at` TIMESTAMP NULL DEFAULT NULL,
  `updated_at` TIMESTAMP NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
AUTO_INCREMENT = 4
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `siv`.`ventaformas`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `siv`.`ventaformas` (
  `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `descripcion` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `created_at` TIMESTAMP NULL DEFAULT NULL,
  `updated_at` TIMESTAMP NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
AUTO_INCREMENT = 3
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `siv`.`cierres`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `siv`.`cierres` (
  `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `cotizacione_id` INT(10) UNSIGNED NOT NULL,
  `porcentaje` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `fecha_facturacion` DATE NOT NULL,
  `created_at` TIMESTAMP NULL DEFAULT NULL,
  `updated_at` TIMESTAMP NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  INDEX `cierres_cotizacione_id_foreign` (`cotizacione_id` ASC),
  CONSTRAINT `cierres_cotizacione_id_foreign`
    FOREIGN KEY (`cotizacione_id`)
    REFERENCES `siv`.`ventaformas` (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `siv`.`estados`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `siv`.`estados` (
  `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `descripcion` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `created_at` TIMESTAMP NULL DEFAULT NULL,
  `updated_at` TIMESTAMP NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
AUTO_INCREMENT = 4
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `siv`.`monedas`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `siv`.`monedas` (
  `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `descripcion` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `siglas` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `simbolo` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `created_at` TIMESTAMP NULL DEFAULT NULL,
  `updated_at` TIMESTAMP NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
AUTO_INCREMENT = 4
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `siv`.`negocios`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `siv`.`negocios` (
  `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `descripcion` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `created_at` TIMESTAMP NULL DEFAULT NULL,
  `updated_at` TIMESTAMP NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
AUTO_INCREMENT = 2
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `siv`.`oportunidades`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `siv`.`oportunidades` (
  `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `descripcion` TEXT CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `solicitante` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `email` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `cargo` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `telefono` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `empresa` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `nit` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NULL DEFAULT NULL,
  `user_id` INT(10) UNSIGNED NULL DEFAULT NULL,
  `fecha_requerida` DATETIME NOT NULL,
  `fecha_atencion` DATETIME NULL DEFAULT NULL,
  `presupuesto` BIGINT(20) NOT NULL,
  `moneda_id` INT(10) UNSIGNED NOT NULL,
  `observaciones` TEXT CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NULL DEFAULT NULL,
  `created_at` TIMESTAMP NULL DEFAULT NULL,
  `updated_at` TIMESTAMP NULL DEFAULT NULL,
  `negocio_id` INT(10) UNSIGNED NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `oportunidades_negocio_id_foreign` (`negocio_id` ASC),
  INDEX `oportunidades_moneda_id_foreign` (`moneda_id` ASC),
  CONSTRAINT `oportunidades_moneda_id_foreign`
    FOREIGN KEY (`moneda_id`)
    REFERENCES `siv`.`monedas` (`id`),
  CONSTRAINT `oportunidades_negocio_id_foreign`
    FOREIGN KEY (`negocio_id`)
    REFERENCES `siv`.`negocios` (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `siv`.`cotizaciones`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `siv`.`cotizaciones` (
  `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `oportunidade_id` INT(10) UNSIGNED NOT NULL,
  `estado_id` INT(10) UNSIGNED NOT NULL,
  `version` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `moneda_id` INT(10) UNSIGNED NOT NULL,
  `descuento` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `showdescuento` TINYINT(1) NOT NULL,
  `created_at` TIMESTAMP NULL DEFAULT NULL,
  `updated_at` TIMESTAMP NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  INDEX `cotizaciones_oportunidade_id_foreign` (`oportunidade_id` ASC),
  INDEX `cotizaciones_estado_id_foreign` (`estado_id` ASC),
  INDEX `cotizaciones_moneda_id_foreign` (`moneda_id` ASC),
  CONSTRAINT `cotizaciones_estado_id_foreign`
    FOREIGN KEY (`estado_id`)
    REFERENCES `siv`.`estados` (`id`),
  CONSTRAINT `cotizaciones_moneda_id_foreign`
    FOREIGN KEY (`moneda_id`)
    REFERENCES `siv`.`monedas` (`id`),
  CONSTRAINT `cotizaciones_oportunidade_id_foreign`
    FOREIGN KEY (`oportunidade_id`)
    REFERENCES `siv`.`oportunidades` (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `siv`.`productos`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `siv`.`productos` (
  `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `nparte` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `fabricante` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `descripcion` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `estado` TINYINT(1) NOT NULL,
  `created_at` TIMESTAMP NULL DEFAULT NULL,
  `updated_at` TIMESTAMP NULL DEFAULT NULL,
  `categoria_id` INT(10) UNSIGNED NOT NULL,
  `negocio_id` INT(10) UNSIGNED NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `productos_categoria_id_foreign` (`categoria_id` ASC),
  INDEX `productos_negocio_id_foreign` (`negocio_id` ASC),
  CONSTRAINT `productos_categoria_id_foreign`
    FOREIGN KEY (`categoria_id`)
    REFERENCES `siv`.`categorias` (`id`),
  CONSTRAINT `productos_negocio_id_foreign`
    FOREIGN KEY (`negocio_id`)
    REFERENCES `siv`.`negocios` (`id`))
ENGINE = InnoDB
AUTO_INCREMENT = 2
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `siv`.`proveedores`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `siv`.`proveedores` (
  `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `nombre` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `empresa` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `telefono` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `email` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `nit` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NULL DEFAULT NULL,
  `created_at` TIMESTAMP NULL DEFAULT NULL,
  `updated_at` TIMESTAMP NULL DEFAULT NULL,
  `negocio_id` INT(10) UNSIGNED NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `proveedores_negocio_id_foreign` (`negocio_id` ASC),
  CONSTRAINT `proveedores_negocio_id_foreign`
    FOREIGN KEY (`negocio_id`)
    REFERENCES `siv`.`negocios` (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `siv`.`stocks`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `siv`.`stocks` (
  `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `categoria_id` INT(10) UNSIGNED NOT NULL,
  `producto_id` INT(10) UNSIGNED NOT NULL,
  `proveedore_id` INT(10) UNSIGNED NOT NULL,
  `estado` TINYINT(1) NOT NULL,
  `valor` BIGINT(20) NOT NULL,
  `fecha_entrega` DATE NOT NULL,
  `forma_entrega` TEXT CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `created_at` TIMESTAMP NULL DEFAULT NULL,
  `updated_at` TIMESTAMP NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  INDEX `stocks_categoria_id_foreign` (`categoria_id` ASC),
  INDEX `stocks_producto_id_foreign` (`producto_id` ASC),
  INDEX `stocks_proveedore_id_foreign` (`proveedore_id` ASC),
  CONSTRAINT `stocks_categoria_id_foreign`
    FOREIGN KEY (`categoria_id`)
    REFERENCES `siv`.`categorias` (`id`),
  CONSTRAINT `stocks_producto_id_foreign`
    FOREIGN KEY (`producto_id`)
    REFERENCES `siv`.`productos` (`id`),
  CONSTRAINT `stocks_proveedore_id_foreign`
    FOREIGN KEY (`proveedore_id`)
    REFERENCES `siv`.`proveedores` (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `siv`.`cotizadosproductos`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `siv`.`cotizadosproductos` (
  `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `stock_id` INT(10) UNSIGNED NOT NULL,
  `valor` BIGINT(20) NOT NULL,
  `cotizacione_id` INT(10) UNSIGNED NOT NULL,
  `moneda_id` INT(10) UNSIGNED NOT NULL,
  `fecha_entrega` DATE NOT NULL,
  `forma_entrega` TEXT CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `created_at` TIMESTAMP NULL DEFAULT NULL,
  `updated_at` TIMESTAMP NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  INDEX `cotizadosproductos_stock_id_foreign` (`stock_id` ASC),
  INDEX `cotizadosproductos_cotizacione_id_foreign` (`cotizacione_id` ASC),
  INDEX `cotizadosproductos_moneda_id_foreign` (`moneda_id` ASC),
  CONSTRAINT `cotizadosproductos_cotizacione_id_foreign`
    FOREIGN KEY (`cotizacione_id`)
    REFERENCES `siv`.`cotizaciones` (`id`),
  CONSTRAINT `cotizadosproductos_moneda_id_foreign`
    FOREIGN KEY (`moneda_id`)
    REFERENCES `siv`.`monedas` (`id`),
  CONSTRAINT `cotizadosproductos_stock_id_foreign`
    FOREIGN KEY (`stock_id`)
    REFERENCES `siv`.`stocks` (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `siv`.`empresas`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `siv`.`empresas` (
  `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `descripcion` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `logo` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `nit` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NULL DEFAULT NULL,
  `direccion` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `telefono` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `email` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `created_at` TIMESTAMP NULL DEFAULT NULL,
  `updated_at` TIMESTAMP NULL DEFAULT NULL,
  `negocio_id` INT(10) UNSIGNED NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `empresas_negocio_id_foreign` (`negocio_id` ASC),
  CONSTRAINT `empresas_negocio_id_foreign`
    FOREIGN KEY (`negocio_id`)
    REFERENCES `siv`.`negocios` (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `siv`.`migrations`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `siv`.`migrations` (
  `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `migration` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `batch` INT(11) NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
AUTO_INCREMENT = 43
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `siv`.`oauth_access_tokens`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `siv`.`oauth_access_tokens` (
  `id` VARCHAR(100) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `user_id` INT(11) NULL DEFAULT NULL,
  `client_id` INT(11) NOT NULL,
  `name` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NULL DEFAULT NULL,
  `scopes` TEXT CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NULL DEFAULT NULL,
  `revoked` TINYINT(1) NOT NULL,
  `created_at` TIMESTAMP NULL DEFAULT NULL,
  `updated_at` TIMESTAMP NULL DEFAULT NULL,
  `expires_at` DATETIME NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  INDEX `oauth_access_tokens_user_id_index` (`user_id` ASC))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `siv`.`oauth_auth_codes`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `siv`.`oauth_auth_codes` (
  `id` VARCHAR(100) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `user_id` INT(11) NOT NULL,
  `client_id` INT(11) NOT NULL,
  `scopes` TEXT CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NULL DEFAULT NULL,
  `revoked` TINYINT(1) NOT NULL,
  `expires_at` DATETIME NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `siv`.`oauth_clients`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `siv`.`oauth_clients` (
  `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `user_id` INT(11) NULL DEFAULT NULL,
  `name` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `secret` VARCHAR(100) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `redirect` TEXT CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `personal_access_client` TINYINT(1) NOT NULL,
  `password_client` TINYINT(1) NOT NULL,
  `revoked` TINYINT(1) NOT NULL,
  `created_at` TIMESTAMP NULL DEFAULT NULL,
  `updated_at` TIMESTAMP NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  INDEX `oauth_clients_user_id_index` (`user_id` ASC))
ENGINE = InnoDB
AUTO_INCREMENT = 4
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `siv`.`oauth_personal_access_clients`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `siv`.`oauth_personal_access_clients` (
  `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `client_id` INT(11) NOT NULL,
  `created_at` TIMESTAMP NULL DEFAULT NULL,
  `updated_at` TIMESTAMP NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  INDEX `oauth_personal_access_clients_client_id_index` (`client_id` ASC))
ENGINE = InnoDB
AUTO_INCREMENT = 3
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `siv`.`oauth_refresh_tokens`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `siv`.`oauth_refresh_tokens` (
  `id` VARCHAR(100) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `access_token_id` VARCHAR(100) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `revoked` TINYINT(1) NOT NULL,
  `expires_at` DATETIME NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  INDEX `oauth_refresh_tokens_access_token_id_index` (`access_token_id` ASC))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `siv`.`password_resets`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `siv`.`password_resets` (
  `email` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `token` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `created_at` TIMESTAMP NULL DEFAULT NULL,
  INDEX `password_resets_email_index` (`email` ASC))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `siv`.`tipousers`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `siv`.`tipousers` (
  `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `descripcion` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `created_at` TIMESTAMP NULL DEFAULT NULL,
  `updated_at` TIMESTAMP NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
AUTO_INCREMENT = 4
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `siv`.`users`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `siv`.`users` (
  `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `email` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `password` VARCHAR(255) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NOT NULL,
  `tipouser_id` INT(10) UNSIGNED NOT NULL,
  `negocio_id` INT(10) UNSIGNED NULL DEFAULT NULL,
  `activo` TINYINT(1) NOT NULL DEFAULT '1',
  `remember_token` VARCHAR(100) CHARACTER SET 'utf8' COLLATE 'utf8_unicode_ci' NULL DEFAULT NULL,
  `created_at` TIMESTAMP NULL DEFAULT NULL,
  `updated_at` TIMESTAMP NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE INDEX `users_email_unique` (`email` ASC),
  INDEX `users_tipouser_id_foreign` (`tipouser_id` ASC),
  INDEX `users_negocio_id_foreign` (`negocio_id` ASC),
  CONSTRAINT `users_negocio_id_foreign`
    FOREIGN KEY (`negocio_id`)
    REFERENCES `siv`.`negocios` (`id`),
  CONSTRAINT `users_tipouser_id_foreign`
    FOREIGN KEY (`tipouser_id`)
    REFERENCES `siv`.`tipousers` (`id`))
ENGINE = InnoDB
AUTO_INCREMENT = 3
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
